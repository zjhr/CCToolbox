# Changelog

所有显著的项目变化都将被记录在此文件中。

该项目遵循 [Semantic Versioning](https://semver.org/)。

## [1.5.5] - 2025-01-12

### Improved
- ⚡ 性能优化：首页数据加载策略改进，快速接口不再被慢速接口阻塞
  - 前端并行加载所有数据，使用 `Promise.allSettled()` 替代 `Promise.all()`
  - 快速接口（UI 配置、频道列表）可立即返回和渲染
  - 慢速接口（今日统计）在后台并行加载，不影响首屏体验
- 🔧 优化版本检查逻辑
  - 使用 `requestIdleCallback` 延迟版本检查到浏览器空闲时
  - 添加 npm 注册表请求缓存，TTL 为 1 小时
  - 减少首页初始加载时间
- 🐛 修复问题
  - 移除版本检查的 mock 模式，恢复真实版本检测

---

## [1.5.4] - 2024-11-27

### Improved
- 🎨 全局圆角优化，主卡片从 12px 调整为 8px，内部小卡片 6px，按钮 4-5px，整体更现代简洁
- ✨ 优化 Logo 和导航标签的圆角设计，提升视觉精致度
- 📊 今日数据统计卡片样式精细调整，提升数据展示的视觉层级
- 🔒 锁定状态界面圆角优化，锁定图标容器从 16px 改为 10px
- 📱 列表项和标签圆角统一调整，提升整体设计一致性
- 🎯 按钮和选择器圆角细化，从 6px 优化为 4px，更具现代感

---

## [1.5.3] - 2024-11-26

### Added
- 🚀 新增 `ct daemon` 命令，支持后台运行模式（基于 PM2）
  - `ct daemon start` - 后台启动服务
  - `ct daemon stop` - 停止后台服务
  - `ct daemon restart` - 重启服务
  - `ct daemon status` - 查看运行状态
  - `ct daemon logs` - 查看 PM2 日志
- 🩺 新增 `ct doctor` 命令，系统健康诊断工具
  - 检查 Node.js 版本兼容性
  - 检查配置文件完整性
  - 检查端口占用情况
  - 检查 Claude Code 配置
  - 检查日志目录和磁盘空间
  - 检查进程运行状态
- 📋 新增 `ct logs` 命令，日志管理工具
  - `ct logs [type]` - 查看指定类型日志（ui/claude/codex/gemini）
  - `ct logs --follow` - 实时跟踪日志
  - `ct logs --lines N` - 显示最后 N 行
  - `ct logs --clear` - 清空日志文件
- 📊 新增 `ct stats` 命令，查看统计信息
  - 会话数量统计
  - Token 使用统计
  - API 调用次数统计
- ✨ 新增版本自动更新功能
  - 自动检测新版本
  - 一键更新并重启
  - 支持查看更新日志

### Improved
- 🎨 优化 Web UI 更新提示，支持 Markdown 格式的 changelog 展示
- 📦 改进日志管理，统一日志存储路径到 `~/.claude/logs/`
- ⚡ 优化命令行帮助信息，新增命令自动出现在 `ct --help` 中

### Fixed
- 🐛 修复后台运行模式下端口冲突问题
- 🐛 修复日志文件过大导致的性能问题

---

## [1.5.2] - 2024-11-26

### Added
- 🔒 新增类型锁定功能，可灵活关闭不需要的 AI 工具类型（Claude/Codex/Gemini），精简工作界面
- 🔖 新增强大的收藏功能，支持收藏关键对话至顶部书签栏，一键快速定位核心对话内容
- 🎯 新增后台运行模式，启动服务后可安全关闭终端窗口，代理服务持续运行无间断
- ⚙️ 新增高级开机自启配置，支持系统启动时自动启动代理服务，无需手动干预

### Improved
- ⚡ 优化首页数据加载性能，引入智能缓存机制，显著提升页面加载速度
- 📦 整合聚合 Dashboard 接口，减少多余请求，优化整体网络开销
- 🎨 微调 UI 细节，提升整体视觉体验和交互流畅度

### Fixed
- 🐛 修复会话运行时间计算逻辑，确保时间统计准确无误

---

## [1.5.1] - 2024-11-20

### Added
- 📢 新增版本更新提示，及时推送最新功能和改进

### Improved
- 🎨 优化更新提示 UI，完美适配日间/暗黑主题

### Fixed
- 🐛 修复更新提示弹窗在白天主题下背景色问题

---

## [1.5.0] - 2024-11-15

### Added
- 🤖 新增 Gemini AI 工具完整支持

### Improved
- 🎨 全面优化整体 UI 设计和交互体验

### Fixed
- 🐛 修复代理管理页面的已知问题

---

## [1.4.5] - 2024-11-10

### Added
- 🔖 新增收藏功能，快速标记重要会话

### Improved
- ⚡ 性能优化和响应速度提升

### Fixed
- 🐛 修复渠道切换问题

---

## [1.4.0] - 2024-11-05

### Added
- 📱 新增响应式设计，支持更多终端宽度
- 🔍 新增全局搜索功能，快速查找会话内容

### Improved
- 🎨 整体 UI 界面优化

### Fixed
- 🐛 修复若干已知问题
